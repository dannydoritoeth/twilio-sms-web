{"version":3,"sources":["context/AuthenticationProvider.jsx","context/ComposerProvider.jsx","component/DefaultLayout/DefaultLayout.jsx","component/AuthenticationMethodCard/AuthenticationMethodCard.jsx","component/AuthenticationPage/AuthenticationPage.jsx","hook/useGetTwilioMessages.js","component/MessageList/MessageListView.jsx","component/MessageAction/MessageAction.jsx","component/MessageCard/MessageCard.jsx","component/MessageList/MessageList.jsx","hook/useSendTwilioMessage.js","component/SuccessLabel/SuccessLabel.jsx","component/ErrorLabel/ErrorLabel.jsx","component/InputField/InputField.jsx","component/TextAreaField/TextAreaField.jsx","component/MessageComposer/MessageComposer.jsx","component/MessagesPage/MessagesPageView.jsx","hook/useGetTwilioPhoneNumbers.js","component/PhoneNumberSelector/PhoneNumberSelector.jsx","component/MessagesPage/MessagesPage.jsx","component/AuthenticationAuthTokenPage/AuthenticationAuthTokenPageView.jsx","component/AuthenticationAuthTokenPage/AuthenticationAuthTokenPage.jsx","component/AuthenticationApiKeyPage/AuthenticationApiKeyPageView.jsx","component/AuthenticationApiKeyPage/AuthenticationApiKeyPage.jsx","App.js","reportWebVitals.js","google-tag-manager/google-tag-manager.js","index.js"],"names":["AuthenticationMethod","Authentication","accountSid","authToken","apiKey","apiSecret","type","this","toCredentials","authentication","username","password","mapAuthenticationError","err","Error","message","AuthenticationReadContext","React","createContext","AuthenticationWriteContext","p","useAuthentication","useContext","AuthenticationProvider","children","useState","value","setValue","Provider","v","ComposerReadContext","ComposerWriteContext","useComposerContext","ComposerProvider","DefaultLayout","history","useHistory","className","style","padding","onClick","push","href","target","rel","GithubOutlined","marginTop","AuthenticationMethodCard","onChange","id","e","AuthenticationPage","method","useGetTwilioMessages","credentials","a","phoneNumber","url","result","axios","get","auth","params","From","fromResult","To","toResult","concat","data","messages","sortByDate","b","Date","parse","date_created","sort","Loading","LoadingOutlined","buttonClass","direction","DirectionalButton","text","buttonText","MessageAction","toBaseDirection","includes","messageLabelClass","messageLabelRotation","copyStyle","margin","toDateString","date","d","toLocaleTimeString","CopyToClipboard","txt","data-tooltip","s","navigator","clipboard","writeText","then","console","log","catch","CopyTwoTone","twoToneColor","MessageCard","messageSid","from","to","status","body","onActionClick","setComposerContext","baseDirection","RightCircleFilled","rotate","messageActionOnClick","MessageList","onComplete","onError","loading","setLoading","setMessages","hasMounted","setHasMounted","previousPhoneNumber","setPreviousPhoneNumber","handleSuccess","useCallback","response","messagesMapped","map","sid","getMessages","onSuccess","useEffect","length","useSendTwilioMessage","URLSearchParams","append","post","headers","error","SuccessLabel","ErrorLabel","name","String","InputField","autoComplete","placeholder","label","validation","invalidHint","isRequired","isEnabled","isPristine","setPristine","isValid","labelClass","showInvalid","required","disabled","event","onBlur","TextAreaField","rows","MessageComposer","composerContext","setError","isMessageSent","setMessageSent","setTo","setMessage","sendMessage","setTimeout","onSubmit","preventDefault","replace","match","validHint","Tabs","activeTab","setActiveTab","handleActivateComposer","isMessagesActive","isComposerActive","messagesTabClass","composerTabClass","useGetTwilioPhoneNumbers","PhoneNumberSelector","onPhoneNumberChange","phoneNumbers","setPhoneNumbers","getPhoneNumbers","incoming_phone_numbers","filter","pn","capabilities","sms","phone_number","maskPhoneNumber","substr","phoneNumberOptions","placeHolderText","isLoading","options","MessagesPage","setPhoneNumber","isPhoneNumberSelected","loadingClassName","AuthenticationAuthTokenForm","onAccountSidChange","onAuthTokenChange","onCancel","onSignIn","AuthenticationAuthTokenPage","setAuthentication","authenticationRef","useRef","setAccountSid","setAuthToken","current","AuthenticationApiKeyForm","onApiKeyChange","onApiSecretChange","AuthenticationApiKeyPage","setApiKey","setApiSecret","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","googleTagManagerId","process","tagManagerArgs","gtmId","TagManager","initialize","initializeGoogleTagManager","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.88334016.chunk.js","sourcesContent":["import React, {useContext, useState} from \"react\";\n\n/**\n * Types of authentication\n * @enum {string}\n */\nexport const AuthenticationMethod = {\n  AUTH_TOKEN: 'auth-token',\n  API_KEY: 'api-key',\n  NONE: ''\n}\n\n/**\n * Authentication data\n */\nexport class Authentication {\n  /**\n   * @param {string} accountSid\n   * @param {string} authToken\n   * @param {string} apiKey\n   * @param {string} apiSecret\n   * @param {AuthenticationMethod} type\n   */\n  constructor(accountSid='',\n              authToken='',\n              apiKey='',\n              apiSecret='',\n              type= AuthenticationMethod.NONE) {\n    this.accountSid = accountSid\n    this.authToken = authToken\n    this.apiKey = apiKey\n    this.apiSecret = apiSecret\n    this.type = type\n  }\n}\n\n/**\n * @param {Authentication} authentication\n */\nexport const toCredentials = (authentication) => {\n  switch (authentication.type) {\n    case AuthenticationMethod.API_KEY:\n      return {username: authentication.apiKey, password: authentication.apiSecret}\n    case AuthenticationMethod.AUTH_TOKEN:\n      return {username: authentication.accountSid, password: authentication.authToken}\n    default:\n      return {username: '', password: ''}\n  }\n}\n\nexport const mapAuthenticationError = (err) => {\n  if (err instanceof Error && err.message === 'Network Error') {\n    return new Error('Incorrect credentials or unable to access your Twilio account')\n  } else if (err instanceof Error && err.message === 'Request failed with status code 401') {\n    return new Error('Incorrect credentials')\n  } else {\n    return err\n  }\n}\n\n\nconst AuthenticationReadContext = React.createContext({})\nconst AuthenticationWriteContext = React.createContext(p => {})\n\nexport const useAuthentication = () => {\n  const value = useContext(AuthenticationReadContext)\n  const setValue = useContext(AuthenticationWriteContext)\n  return [value, setValue]\n}\n\nexport const AuthenticationProvider = ({children}) => {\n  const [value, setValue] = useState({})\n  return (\n    <AuthenticationReadContext.Provider value={value}>\n      <AuthenticationWriteContext.Provider value={v => setValue(v)}>\n        {children}\n      </AuthenticationWriteContext.Provider>\n    </AuthenticationReadContext.Provider>\n  )\n}\n","import React, {useContext, useState} from \"react\";\n\nconst ComposerReadContext = React.createContext({})\nconst ComposerWriteContext = React.createContext(p => {})\n\nexport const useComposerContext = () => {\n  const value = useContext(ComposerReadContext)\n  const setValue = useContext(ComposerWriteContext)\n  return [value, setValue]\n}\n\nexport const ComposerProvider = ({children}) => {\n  const [value, setValue] = useState('')\n  return (\n    <ComposerReadContext.Provider value={value}>\n      <ComposerWriteContext.Provider value={v => setValue(v)}>\n        {children}\n      </ComposerWriteContext.Provider>\n    </ComposerReadContext.Provider>\n  )\n}\n","import { GithubOutlined } from '@ant-design/icons';\nimport { useHistory } from \"react-router-dom\";\nimport './DefaultLayout.css'\n\nconst DefaultLayout = ({children}) => {\n  const history = useHistory()\n\n  const navigateToAuthenticationPage = () => {\n    history.push('/authentication')\n  }\n  const navigateToPhoneNumbersPage = () => {\n    history.push('/phone-numbers')\n  }\n\n  return (\n    <>\n      <div className=\"default-layout-container container grid-lg\">\n        <header className=\"navbar bg-primary\" style={{padding: '.5em'}}>\n          <section className=\"navbar-section\">\n            <span className=\"btn btn-link text-light\" onClick={navigateToAuthenticationPage}>Authentication</span>\n            <span className=\"btn btn-link text-light\" onClick={navigateToPhoneNumbersPage}>Messages</span>\n          </section>\n          <section className=\"navbar-center hide-xs\">\n            <span className=\"h5\">Twilio SMS Web</span>\n          </section>\n          <section className=\"navbar-section\">\n            <a className=\"btn btn-link text-light\" href=\"https://github.com/rafasantos/twilio-sms-web\" target=\"_blank\" rel=\"noreferrer\">\n              GitHub <GithubOutlined/>\n            </a>\n          </section>\n        </header>\n      </div>\n      <div className=\"default-layout-container container grid-lg text-left\" style={{marginTop: '1em'}}>\n        {children}\n      </div>\n    </>\n  )\n}\n\nexport default DefaultLayout","import \"./AuthenticationMethodCard.css\"\nimport {AuthenticationMethod} from \"../../context/AuthenticationProvider\";\n\nconst AuthenticationMethodCard = ({onChange=()=>{}}) => (\n  <div className=\"text-center\">\n      <div className=\"authentication-method-card-header\">\n        Choose your Twilio authentication method:\n      </div>\n      <button\n        className=\"authentication-method-card-method-btn btn btn-secondary\"\n        id=\"AUTHENTICATION-METHOD-AUTH-TOKEN\"\n        onClick={e => onChange(AuthenticationMethod.AUTH_TOKEN)}\n      >\n        AuthToken\n      </button>\n\n      <div className=\"authentication-method-card-divider\">\n        <hr/>or<hr/>\n      </div>\n\n      <button\n        className=\"authentication-method-card-method-btn btn btn-primary\"\n        id=\"AUTHENTICATION-METHOD-API-KEY\"\n        onClick={e => onChange(AuthenticationMethod.API_KEY)}\n        >\n        Api Key\n      </button>\n  </div>\n)\n\nexport default AuthenticationMethodCard\n","import {AuthenticationMethod} from \"../../context/AuthenticationProvider\";\nimport DefaultLayout from \"../DefaultLayout/DefaultLayout\";\nimport {useHistory} from \"react-router-dom\";\nimport AuthenticationMethodCard from \"../AuthenticationMethodCard/AuthenticationMethodCard\";\n\nconst AuthenticationPage = () => {\n  const history = useHistory()\n\n  const handleAuthMethod = (method = AuthenticationMethod.NONE) => {\n    if (method === AuthenticationMethod.AUTH_TOKEN) {\n        history.push('/authentication-token')\n    } else if (method === AuthenticationMethod.API_KEY) {\n        history.push('/authentication-api-key')\n    }\n  }\n\n  return <DefaultLayout>\n    <h4>Authentication</h4>\n    <AuthenticationMethodCard onChange={handleAuthMethod}/>\n  </DefaultLayout>\n}\n\nexport default AuthenticationPage\n","import axios from \"axios\";\nimport {toCredentials, useAuthentication} from \"../context/AuthenticationProvider\";\n\nconst useGetTwilioMessages = () => {\n\n  const [authentication] = useAuthentication()\n  const credentials = toCredentials(authentication)\n\n  const request = async ({phoneNumber}) => {\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${authentication.accountSid}/Messages.json`\n    let result = []\n       const fromResult = await axios.get(url,\n        {\n          auth: credentials,\n          params: {From: phoneNumber}\n        })\n      const toResult = await axios.get(url,\n        {\n          auth: credentials,\n          params: {To: phoneNumber}\n        })\n      result = result\n        .concat(fromResult.data.messages)\n        .concat(toResult.data.messages)\n    const sortByDate = (a,b) => Date.parse(a.date_created) > Date.parse(b.date_created) ? -1 : 1\n    return result.sort(sortByDate)\n  }\n\n  return request\n}\n\nexport default useGetTwilioMessages\n","import {LoadingOutlined} from \"@ant-design/icons\";\n\nexport const Loading = ({className}) => <>\n  <div className={`${className} text-center message-list-loading-container`}>\n    <LoadingOutlined className=\"message-list-loading text-primary\" />\n  </div>\n</>\n","import \"./MessageAction.css\"\n\nconst buttonClass = (direction = 'none') => `message-action-button btn btn-primary ${direction}`\n\nconst DirectionalButton = ({className = '', text = '', onClick = () => {}}) =>\n  <button className={className} onClick={onClick}>{text}</button>\n\nconst buttonText = (direction) => {\n  switch (direction) {\n    case 'outbound':\n      return 'Compose'\n    case 'inbound':\n      return 'Reply'\n    default:\n      return 'none'\n  }\n}\n\nconst MessageAction = ({direction = 'none', onClick = () => {}}) => {\n    if (direction === 'none') {\n      return <></>\n    } else {\n      return <DirectionalButton className={buttonClass(direction)} text={buttonText(direction)} onClick={onClick}/>\n    }\n}\n\nexport default MessageAction","import {CopyTwoTone, RightCircleFilled} from \"@ant-design/icons\";\nimport \"./MessageCard.css\";\nimport MessageAction from \"../MessageAction/MessageAction\";\nimport {useComposerContext} from \"../../context/ComposerProvider\"\n\nconst toBaseDirection = direction => direction.includes('inbound') ? 'inbound' : 'outbound'\nconst messageLabelClass = direction => `message-card-label text-code text-small ${toBaseDirection(direction)}`\nconst messageLabelRotation = direction => toBaseDirection(direction) === 'inbound' ? 180 : 0\nconst copyStyle = {padding: '0', margin: '0'}\n\nconst toDateString = (date) => {\n  const d = new Date(date)\n  return `${d.toDateString()} ${d.toLocaleTimeString()}`\n}\n\nconst copyToClipboard = (s) =>\n  navigator.clipboard.writeText(s)\n    .then(() => console.log('Text copied', s))\n    .catch(() => console.log('Unable to copy to clipboard'))\n\nconst CopyToClipboard = ({txt}) => <>\n  <div className=\"tooltip message-card-copy-btn\" data-tooltip=\"Copy to clipboard\" onClick={() => copyToClipboard(txt)}>\n    <CopyTwoTone twoToneColor=\"#5755d9\" style={copyStyle}/>\n  </div>\n</>\n\nconst messageActionOnClick = (baseDirection, from, to, setComposerContext, onActionClick) => {\n  if (baseDirection === 'inbound') {\n    setComposerContext(from)\n  } else {\n    setComposerContext(to)\n  }\n  onActionClick()\n}\n\nconst MessageCard = ({messageSid='', direction='', from='', to='',\n                      date=new Date(), status='', body='', onActionClick=()=>{}}) => {\n\n  const [ , setComposerContext] = useComposerContext()\n  const baseDirection = toBaseDirection(direction)\n\n  return <>\n    <div className=\"message-card\">\n      <div className={messageLabelClass(direction)}>\n        <RightCircleFilled rotate={messageLabelRotation(direction)} />\n      </div>\n      <div className=\"message-card-main-container\">\n        <div className=\"message-card-header text-tiny\">\n        <span>\n          <CopyToClipboard txt={from}/>\n          <strong>From:</strong> {from}\n        </span>\n          <span>\n          <CopyToClipboard txt={to}/>\n          <strong>To:</strong> {to}\n        </span>\n          <span className=\"message-card-header-status\">\n          <strong>Status:</strong> {status}\n        </span>\n          <span>\n          <strong>Direction:</strong> {direction}\n        </span>\n        </div>\n        <div className=\"message-card-body text-code text-small\">\n          {body}\n        </div>\n        <div className=\"message-card-footer text-tiny\">\n          <strong>Date: </strong>{toDateString(date)}\n          <span>\n            <strong>MessageSid: </strong>{messageSid}\n          </span>\n        </div>\n        <div className=\"message-card-action-container\">\n          <MessageAction\n            direction={baseDirection}\n            onClick={() => messageActionOnClick(baseDirection, from, to, setComposerContext, onActionClick)}\n          />\n        </div>\n      </div>\n    </div>\n  </>\n}\n\nexport default MessageCard\n","import {useCallback, useEffect, useState} from \"react\";\nimport useGetTwilioMessages from \"../../hook/useGetTwilioMessages\";\nimport {Loading} from \"./MessageListView\";\nimport MessageCard from \"../MessageCard/MessageCard\";\n\nconst MessageList = ({phoneNumber = '', onActionClick=()=>{}, onComplete = () => {}, onError = () => {}}) => {\n  const [loading, setLoading] = useState(true)\n  const [messages, setMessages] = useState([])\n  const [hasMounted, setHasMounted] = useState(false)\n  const [previousPhoneNumber, setPreviousPhoneNumber] = useState(null)\n\n  const handleSuccess = useCallback((response) => {\n    const messagesMapped = response\n      .map(v => ({\n        messageSid: v.sid,\n        direction: v.direction,\n        from: v.from,\n        to: v.to,\n        date: v.date_created,\n        status: v.status,\n        body: v.body\n      }))\n    setMessages(messagesMapped)\n    setLoading(false)\n  }, [setMessages, setLoading])\n\n  const getMessages = useGetTwilioMessages({\n    onSuccess: handleSuccess,\n    onComplete: onComplete,\n    onError: onError\n  })\n\n  useEffect(() => {\n    setHasMounted(true)\n  }, [setHasMounted])\n\n  useEffect(() => {\n    if (hasMounted && (phoneNumber?.length > 0 && previousPhoneNumber !== phoneNumber)) {\n      getMessages({phoneNumber: phoneNumber}).then(handleSuccess).catch(onError).then(onComplete)\n      setPreviousPhoneNumber(phoneNumber)\n      setLoading(true)\n    }\n  }, [hasMounted, phoneNumber, previousPhoneNumber, getMessages, messages, handleSuccess, onError, onComplete, setPreviousPhoneNumber, setLoading])\n\n  if (loading) return <Loading className=\"h1 m-2\"/>\n\n  return messages.map(v =>\n    <MessageCard\n      key={v.messageSid}\n      messageSid={v.messageSid}\n      from={v.from}\n      to={v.to}\n      body={v.body}\n      direction={v.direction}\n      status={v.status}\n      date={v.date}\n      onActionClick={onActionClick}\n    />)\n}\n\nexport default MessageList\n","import axios from \"axios\";\nimport {toCredentials, useAuthentication} from \"../context/AuthenticationProvider\";\n\nconst useSendTwilioMessage = ({ onSuccess = () => {},\n                                onError = () => {},\n                                onComplete = () => {}\n                              }) => {\n\n  const [authentication] = useAuthentication()\n  const credentials = toCredentials(authentication)\n\n  const request = ({to, from, body}) => {\n    const data = new URLSearchParams()\n    data.append('To', to)\n    data.append('From', from)\n    data.append('Body', body)\n\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${authentication.accountSid}/Messages.json`\n    axios.post(url, data , {\n        auth: credentials,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n      })\n      .then(response => onSuccess(response))\n      .catch(error => onError(error))\n      .then(() => onComplete())\n  }\n\n  return request\n}\n\nexport default useSendTwilioMessage\n","const SuccessLabel = ({text}) => {\n  if (text !== null && text.length > 0) {\n    return <span className=\"label label-success\" style={{padding: '.5em', margin: '.5em 0em .5em 0em'}}>\n      {text}\n    </span>\n  }\n  return null\n}\n\nexport default SuccessLabel","const ErrorLabel = ({error}) => {\n  const toString = () => {\n    if (error instanceof Error) {\n      return `${error.name}: ${error.message}`\n    }\n    return `Error: ${String(error)}`\n  }\n\n  if (error) {\n    return <span className=\"label label-error\" style={{padding: '.5em', margin: '.5em 0em .5em 0em'}}>\n      {toString(error)}\n    </span>\n  }\n\n  return null\n}\n\nexport default ErrorLabel","import {useState} from \"react\";\n\nconst InputField = ({ type='text',\n                      name='',\n                      value='',\n                      autoComplete = '',\n                      placeholder='Placeholder',\n                      label='Label',\n                      validation=()=>{},\n                      invalidHint='Invalid value',\n                      isRequired=false,\n                      isEnabled=true,\n                      onChange=()=>{}}) => {\n  const [isPristine, setPristine] = useState(true);\n  const isValid = () => {\n    try {\n      return validation(value) !== null\n    } catch (err) {\n      return false\n    }\n  }\n  const labelClass = `form-label ${ isPristine || isValid() ? '' : 'has-error'}`\n  const showInvalid = !isPristine && !isValid()\n  return <label className={labelClass}>{label}:{isRequired && <sup className=\"text-error\">&lowast; </sup>}\n    <input\n      type={type}\n      name={name}\n      className=\"form-input\"\n      placeholder={placeholder}\n      required={isRequired}\n      value={value}\n      autoComplete={autoComplete}\n      disabled={!isEnabled}\n      onChange={(event) => onChange(event.target.value)}\n      onBlur={() => setPristine(false)}/>\n    {showInvalid && <span className=\"form-input-hint\">{invalidHint}</span>}\n    {!showInvalid && <span className=\"form-input-hint\">{placeholder}</span>}\n  </label>\n}\n\nexport default InputField\n","import {useState} from \"react\";\n\nconst TextAreaField = ({ name='',\n                         value='',\n                         placeholder='Placeholder',\n                         label='Label',\n                         validation=()=>{},\n                         invalidHint='Invalid value',\n                         isRequired=false,\n                         isEnabled=true,\n                         rows = 3,\n                         onChange=()=>{}}) => {\n  const [isPristine, setPristine] = useState(true);\n  const isValid = () => {\n    try {\n      return validation(value) !== null\n    } catch (err) {\n      return false\n    }\n  }\n  const labelClass = `form-label ${ isPristine || isValid() ? '' : 'has-error'}`\n  const showInvalid = !isPristine && !isValid()\n  return <label className={labelClass}>{label}:{isRequired && <sup className=\"text-error\">&lowast; </sup>}\n    <textarea\n      className=\"form-input\"\n      name={name}\n      placeholder={placeholder}\n      required={isRequired}\n      value={value}\n      rows={rows}\n      disabled={!isEnabled}\n      onChange={(event) => onChange(event.target.value)}\n      onBlur={() => setPristine(false)}>\n    </textarea>\n    {showInvalid && <span className=\"form-input-hint\">{invalidHint}</span>}\n    {!showInvalid && <span className=\"form-input-hint\">{placeholder}</span>}\n  </label>\n}\n\nexport default TextAreaField","import {useState, useEffect} from \"react\";\nimport \"./MessageComposer.css\"\nimport useSendTwilioMessage from \"../../hook/useSendTwilioMessage\";\nimport SuccessLabel from \"../SuccessLabel/SuccessLabel\";\nimport ErrorLabel from \"../ErrorLabel/ErrorLabel\";\nimport InputField from \"../InputField/InputField\";\nimport TextAreaField from \"../TextAreaField/TextAreaField\";\nimport {useComposerContext} from \"../../context/ComposerProvider\"\n\nconst MessageComposer = ({phoneNumber = ''}) => {\n  const [composerContext, setComposerContext] = useComposerContext()\n\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [isMessageSent, setMessageSent] = useState(false)\n  const [to, setTo] = useState(composerContext)\n  const [message, setMessage] = useState('')\n  const toValidationPattern = '^\\\\+\\\\d{11}'\n  const messageValidationPattern = '[\\\\w\\\\d]{3,}'\n\n  const handleSendMessageSuccess = (response) => {\n    setMessageSent(true)\n    setTimeout(()=> setMessageSent(false), 5000)\n  }\n\n  const handleError = (err) => {\n    setError(err)\n  }\n\n  const handleMessageSentComplete = () => {\n    setLoading(false)\n  }\n\n  const sendMessage = useSendTwilioMessage({\n    onSuccess: handleSendMessageSuccess,\n    onError: handleError,\n    onComplete: handleMessageSentComplete\n  })\n\n  const handleOnSubmit = (event) => {\n    event.preventDefault()\n    setLoading(true)\n    sendMessage({to: to, from: phoneNumber, body: message})\n    setComposerContext(to)\n  }\n\n  const handleToChange = (v) => {\n    if (v.length > 0) {\n      v = '+' + v.replace(/\\D/g, '')\n    }\n    if (v.length < 13) {\n      setTo(v)\n      setComposerContext(v)\n    }\n  }\n\n  const handleMessageChange = (v) => {\n    if (v.length < 200) {\n      setMessage(v)\n    }\n  }\n\n  useEffect(()=> {\n    setComposerContext('')\n  }, [setComposerContext])\n\n  return <div>\n    <ErrorLabel error={error}/>\n    <form className=\"form-group\" onSubmit={handleOnSubmit}>\n      <fieldset disabled={loading}>\n        <InputField\n          label=\"To\"\n          type='tel'\n          value={to}\n          onChange={handleToChange}\n          validation={v => v.match(toValidationPattern)}\n          placeholder=\"Recipient's phone number\"\n          invalidHint=\"Phone number is invalid, it must contain the country code followed by 10 digits\"\n          isRequired={true}\n        />\n        <TextAreaField\n          label=\"Message\"\n          value={message}\n          isRequired={true}\n          placeholder={`Enter the message to sent to: ${to} from: ${phoneNumber}`}\n          validHint={`This message is going to be sent to: ${to} from: ${phoneNumber}`}\n          invalidHint=\"Invalid message, it must be between 3 and 200 characters\"\n          rows='3'\n          validation={v => v.match(messageValidationPattern)}\n          onChange={handleMessageChange}\n        />\n      </fieldset>\n      <div className=\"text-center m-2\">\n        <button className={`message-composer-submit btn btn-primary ${loading ? 'loading' : ''}`} type=\"submit\">Send</button>\n      </div>\n    </form>\n    <div className=\"text-center\">\n      {isMessageSent && <SuccessLabel text=\"Message sent successfully.\"/>}\n    </div>\n  </div>\n}\n\nexport default MessageComposer\n","import \"./MessagesPage.css\"\nimport MessageList from \"../MessageList/MessageList\";\nimport MessageComposer from \"../MessageComposer/MessageComposer\";\nimport {useState} from \"react\";\n\nexport const Tabs = ({phoneNumber=''}) => {\n  const [activeTab, setActiveTab] = useState('messages')\n  const handleActivateMessages = () => setActiveTab('messages')\n  const handleActivateComposer = () => setActiveTab('composer')\n  const isMessagesActive = activeTab === 'messages'\n  const isComposerActive = activeTab === 'composer'\n  const messagesTabClass = `tab-item messages-page-tabs-area ${isMessagesActive ? 'active' : ''}`\n  const composerTabClass = `tab-item messages-page-tabs-area ${isComposerActive ? 'active' : ''}`\n\n  return <>\n    <div className=\"messages-page-tabs-container\">\n      <div className=\"messages-page-tabs-content\">\n        <ul className=\"tab tab-block\">\n          <li className={messagesTabClass} onClick={handleActivateMessages}>\n            Messages\n          </li>\n          <li className={composerTabClass} onClick={handleActivateComposer}>\n            Composer\n          </li>\n        </ul>\n      </div>\n    </div>\n    {isMessagesActive && <MessageList phoneNumber={phoneNumber} onActionClick={handleActivateComposer}/>}\n    {isComposerActive && <MessageComposer phoneNumber={phoneNumber}/>}\n  </>\n}","import axios from \"axios\";\nimport {Authentication, toCredentials} from \"../context/AuthenticationProvider\";\n\nconst useGetTwilioPhoneNumbers = ({onSuccess = () => {},\n                                onError = () => {},\n                                onComplete = () => {}\n                              }) => {\n\n  const getPhoneNumbers = (authentication = new Authentication()) => {\n    const credentials = toCredentials(authentication)\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${authentication.accountSid}/IncomingPhoneNumbers.json?Beta=false`\n    axios.get(url,\n      {\n        auth: credentials\n      })\n      .then(response => onSuccess(response))\n      .catch(error => onError(error))\n      .then(() => onComplete())\n  }\n\n  return getPhoneNumbers\n}\n\nexport default useGetTwilioPhoneNumbers\n","import Select from 'react-select'\nimport {useEffect, useState} from \"react\";\nimport useGetTwilioPhoneNumbers from \"../../hook/useGetTwilioPhoneNumbers\";\nimport \"./PhoneNumberSelector.css\"\nimport {useAuthentication} from \"../../context/AuthenticationProvider\";\n\nconst PhoneNumberSelector = ({ onError = () => {},\n                               onComplete = () => {},\n                               onPhoneNumberChange = () => {}}) => {\n  const [authentication] = useAuthentication()\n  const [loading, setLoading] = useState(true);\n  const [phoneNumbers, setPhoneNumbers] = useState([])\n\n  const handleOnComplete = () => {\n    setLoading(false)\n    onComplete()\n  }\n\n  const handleOnChange = (event) => {\n    onPhoneNumberChange(event.value)\n  }\n\n  const handleGetPhoneNumberSuccess = (response) => {\n    const result = response?.data?.incoming_phone_numbers\n      .filter(pn => pn.capabilities.sms)\n      .map(pn => pn.phone_number)\n      .sort()\n    setPhoneNumbers(result)\n  }\n\n  const getPhoneNumbers = useGetTwilioPhoneNumbers({\n    onSuccess: handleGetPhoneNumberSuccess,\n    onError: onError,\n    onComplete: handleOnComplete\n  })\n\n  // TODO: Currently, this mask is limited to country code +1; we need a mask for all country codes\n  const maskPhoneNumber = v => {\n    let result = v.substr(0, 2)\n    result += ' ' + v.substr(2, 3)\n    result += ' ' + v.substr(5, 3)\n    result += ' ' + v.substr(8)\n    return result\n  }\n\n  const phoneNumberOptions = phoneNumbers.map(v => ({value: v, label: maskPhoneNumber(v)}))\n\n  const placeHolderText = loading ? 'Loading phone numbers...' : 'Select (or type) a phone number...'\n\n  // Get available phone number on first render\n  useEffect(() => {\n    if (phoneNumbers.length === 0) {\n      getPhoneNumbers(authentication)\n    }\n  }, [getPhoneNumbers, phoneNumbers, authentication])\n\n  return <Select\n      placeholder={placeHolderText}\n      isLoading={loading}\n      options={phoneNumberOptions}\n      onChange={handleOnChange}\n  />\n}\n\nexport default PhoneNumberSelector\n","import {useState} from \"react\";\nimport {Tabs} from \"./MessagesPageView\";\nimport {useAuthentication} from \"../../context/AuthenticationProvider\";\nimport {useHistory} from \"react-router-dom\";\nimport DefaultLayout from \"../DefaultLayout/DefaultLayout\";\nimport ErrorLabel from \"../ErrorLabel/ErrorLabel\";\nimport PhoneNumberSelector from \"../PhoneNumberSelector/PhoneNumberSelector\";\n\nconst EMPTY_PHONE_NUMBER = ''\n\nconst MessagesPage = () => {\n  const [error, setError] = useState(null)\n  const [phoneNumber, setPhoneNumber] = useState(EMPTY_PHONE_NUMBER)\n  const [authentication] = useAuthentication()\n  const history = useHistory()\n\n  // TODO: Move this to a router guard\n  if (!authentication?.accountSid) {\n    history.push('/authentication')\n    return null\n  }\n\n  const handleError = (err) => setError(err)\n\n  const handlePhoneNumberChange = (v) => setPhoneNumber(v)\n\n  const isPhoneNumberSelected = phoneNumber !== EMPTY_PHONE_NUMBER\n\n  return <DefaultLayout>\n    <h4>Messages</h4>\n    <ErrorLabel error={error}/>\n    <PhoneNumberSelector onError={handleError} onPhoneNumberChange={handlePhoneNumberChange}/>\n    {isPhoneNumberSelected && <Tabs phoneNumber={phoneNumber}/>}\n  </DefaultLayout>\n}\n\nexport default MessagesPage\n","import InputField from \"../InputField/InputField\";\n\nconst loadingClassName = (loading = false) => loading ? 'loading' : ''\n\nconst AuthenticationAuthTokenForm = ({ accountSid='', authToken='', loading=false,\n                         onAccountSidChange=()=>{}, onAuthTokenChange=()=>{}, onCancel=()=>{}, onSignIn=()=>{} }) => (\n  <form onSubmit={e => {\n    e.preventDefault()\n    onSignIn()\n  }}>\n    <InputField\n      type=\"text\"\n      name=\"AccountSid\"\n      label=\"Account SID\"\n      value={accountSid}\n      autoComplete=\"account-sid\"\n      placeholder=\"Account SID located at your Twilio Console\"\n      isRequired={true}\n      isEnabled={!loading}\n      onChange={onAccountSidChange}\n    />\n    <InputField\n      type=\"password\"\n      name=\"AuthToken\"\n      label=\"Auth Token\"\n      value={authToken}\n      autoComplete=\"auth-token\"\n      placeholder=\"Auth Token located at your Twilio Console\"\n      isRequired={true}\n      isEnabled={!loading}\n      onChange={onAuthTokenChange}\n    />\n    <div className=\"buttons-container\">\n      <button className=\"btn btn-secondary\" id=\"AUTHENTICATION-TOKEN-CANCEL\" type=\"button\" onClick={onCancel}>Cancel</button>\n      <button className={`btn btn-primary ${loadingClassName(loading)}`} id=\"AUTHENTICATION-TOKEN-SIGN-IN\" type=\"submit\">Sign-in</button>\n    </div>\n  </form>\n)\n\nexport default AuthenticationAuthTokenForm\n","import ErrorLabel from \"../ErrorLabel/ErrorLabel\";\nimport DefaultLayout from \"../DefaultLayout/DefaultLayout\";\nimport AuthenticationAuthTokenForm from \"./AuthenticationAuthTokenPageView\";\nimport {\n  Authentication,\n  AuthenticationMethod,\n  mapAuthenticationError,\n  useAuthentication\n} from \"../../context/AuthenticationProvider\";\nimport {useRef, useState} from \"react\";\nimport useGetTwilioPhoneNumbers from \"../../hook/useGetTwilioPhoneNumbers\";\nimport {useHistory} from \"react-router-dom\";\n\nconst AuthenticationAuthTokenPage = () => {\n  const [authentication, setAuthentication] = useAuthentication()\n  const authenticationRef = useRef(authentication)\n  const [accountSid, setAccountSid] = useState(authentication.accountSid)\n  const [authToken, setAuthToken] = useState(authentication.authToken)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const history = useHistory()\n\n  const handleError = (err) => {\n    setError(mapAuthenticationError(err))\n    setLoading(false)\n  }\n\n  const handleCancel = () => history.push('/authentication')\n\n  const handlePhoneNumbersSuccess = () => {\n    setAuthentication(authenticationRef.current)\n    history.push('/phone-numbers')\n  }\n\n  const handleSignIn = () => {\n    const auth = new Authentication(accountSid, authToken, '', '', AuthenticationMethod.AUTH_TOKEN)\n    authenticationRef.current = auth\n    setLoading(true)\n    /*\n     * We want to get phone numbers after sign-in because at minimum we want to know\n     * if the credentials have permissions for it before moving forward\n     */\n    getPhoneNumbers(auth)\n  }\n\n  const getPhoneNumbers = useGetTwilioPhoneNumbers({\n    onError: handleError,\n    onSuccess: handlePhoneNumbersSuccess,\n  })\n\n  return <DefaultLayout>\n    <h4>Authentication with Auth Token</h4>\n    <ErrorLabel error={error}/>\n    <AuthenticationAuthTokenForm\n      accountSid={accountSid}\n      authToken={authToken}\n      onAccountSidChange={setAccountSid}\n      onAuthTokenChange={setAuthToken}\n      loading={loading}\n      onSignIn={handleSignIn}\n      onCancel={handleCancel} />\n  </DefaultLayout>\n}\n\nexport default AuthenticationAuthTokenPage\n","import InputField from \"../InputField/InputField\";\n\nconst AuthenticationApiKeyForm = ({ accountSid='', apiKey='', apiSecret='', loading=false,\n                      onAccountSidChange=()=>{}, onApiKeyChange=()=>{}, onApiSecretChange=()=>{}, onCancel=()=>{}, onSignIn=()=>{} }) => (\n  <form onSubmit={e => {\n    e.preventDefault()\n    onSignIn()\n  }}>\n    <InputField\n      type=\"text\"\n      name=\"AccountSid\"\n      label=\"Account SID\"\n      value={accountSid}\n      autoComplete=\"account-sid\"\n      placeholder=\"Account SID located at your Twilio Console\"\n      isRequired={true}\n      isEnabled={!loading}\n      onChange={onAccountSidChange}\n    />\n    <InputField\n      type=\"text\"\n      name=\"ApiKey\"\n      label=\"API Key\"\n      value={apiKey}\n      autoComplete=\"api-key\"\n      placeholder=\"API Key located at your Twilio Console\"\n      isRequired={true}\n      isEnabled={!loading}\n      onChange={onApiKeyChange}\n    />\n    <InputField\n      type=\"password\"\n      name=\"ApiSecret\"\n      label=\"API Secret\"\n      value={apiSecret}\n      autoComplete='api-secret'\n      placeholder=\"API Secret for your API Key\"\n      isRequired={true}\n      isEnabled={!loading}\n      onChange={onApiSecretChange}\n    />\n    <div className=\"buttons-container\">\n      <button className=\"btn btn-secondary\" id=\"AUTHENTICATION-API-KEY-CANCEL\" type=\"button\" onClick={onCancel}>Cancel</button>\n      <button className=\"btn btn-primary\" id=\"AUTHENTICATION-API-KEY-SIGN-IN\" type=\"submit\">Sign-in</button>\n    </div>\n  </form>\n)\n\nexport default AuthenticationApiKeyForm\n","import {\n  Authentication,\n  AuthenticationMethod,\n  mapAuthenticationError,\n  useAuthentication\n} from \"../../context/AuthenticationProvider\";\nimport {useRef, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport DefaultLayout from \"../DefaultLayout/DefaultLayout\";\nimport ErrorLabel from \"../ErrorLabel/ErrorLabel\";\nimport AuthenticationApiKeyForm from \"./AuthenticationApiKeyPageView\";\nimport useGetTwilioPhoneNumbers from \"../../hook/useGetTwilioPhoneNumbers\";\n\nconst AuthenticationApiKeyPage = () => {\n  const [authentication, setAuthentication] = useAuthentication()\n  const authenticationRef = useRef(authentication)\n  const [accountSid, setAccountSid] = useState(authentication.accountSid)\n  const [apiKey, setApiKey] = useState(authentication.apiKey)\n  const [apiSecret, setApiSecret] = useState(authentication.apiSecret)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const history = useHistory()\n\n  const handleError = (err) => {\n    setError(mapAuthenticationError(err))\n    setLoading(false)\n  }\n\n  const handleCancel = () => history.push('/authentication')\n\n  const handlePhoneNumbersSuccess = () => {\n    setAuthentication(authenticationRef.current)\n    history.push('/phone-numbers')\n  }\n\n  const handleSignIn = () => {\n    const auth = new Authentication(accountSid, '', apiKey, apiSecret, AuthenticationMethod.API_KEY)\n    authenticationRef.current = auth\n    setLoading(true)\n    /*\n     * We want to get phone numbers after sign-in because at minimum we want to know\n     * if the credentials have permissions for it before moving forward\n     */\n    getPhoneNumbers(auth)\n  }\n\n  const getPhoneNumbers = useGetTwilioPhoneNumbers({\n    onError: handleError,\n    onSuccess: handlePhoneNumbersSuccess,\n  })\n\n\n  return <DefaultLayout>\n    <h4>Authentication with Api Key</h4>\n    <ErrorLabel error={error}/>\n    <AuthenticationApiKeyForm\n      accountSid={accountSid}\n      apiKey={apiKey}\n      apiSecret={apiSecret}\n      loading={loading}\n      onAccountSidChange={setAccountSid}\n      onApiKeyChange={setApiKey}\n      onApiSecretChange={setApiSecret}\n      onSignIn={handleSignIn}\n      onCancel={handleCancel}\n    />\n  </DefaultLayout>\n\n}\n\nexport default AuthenticationApiKeyPage\n","/*\n * Spectre CSS Imports\n * See: https://picturepan2.github.io/spectre/getting-started/installation.html\n */\nimport 'spectre.css/dist/spectre.min.css'\nimport 'spectre.css/dist/spectre-exp.css'\nimport 'spectre.css/dist/spectre-icons.css'\n\nimport './App.css'\n\nimport React from \"react\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\n\nimport {AuthenticationProvider} from \"./context/AuthenticationProvider\";\nimport {ComposerProvider} from \"./context/ComposerProvider\";\nimport AuthenticationPage from \"./component/AuthenticationPage/AuthenticationPage\"\nimport MessagesPage from \"./component/MessagesPage/MessagesPage\"\nimport AuthenticationAuthTokenPage from \"./component/AuthenticationAuthTokenPage/AuthenticationAuthTokenPage\";\nimport AuthenticationApiKeyPage from \"./component/AuthenticationApiKeyPage/AuthenticationApiKeyPage\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <AuthenticationProvider><ComposerProvider>\n        <HashRouter>\n          <Switch>\n            <Route exact path=\"/\" component={AuthenticationPage}/>\n            <Route path=\"/authentication\" component={AuthenticationPage}/>\n            <Route path=\"/authentication-token\" component={AuthenticationAuthTokenPage}/>\n            <Route path=\"/authentication-api-key\" component={AuthenticationApiKeyPage}/>\n            <Route path=\"/phone-numbers\" component={MessagesPage}/>\n          </Switch>\n        </HashRouter>\n      </ComposerProvider></AuthenticationProvider>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import TagManager from 'react-gtm-module'\n\nconst initializeGoogleTagManager = () => {\n  const googleTagManagerId = process.env.REACT_APP_GOOGLE_TAG_MANAGER_ID\n  \n  if (googleTagManagerId === undefined || googleTagManagerId === null || googleTagManagerId === '') return\n\n  const tagManagerArgs = {\n    gtmId: googleTagManagerId\n  }\n\n  console.log('Initializing Google Tag Manager:', tagManagerArgs)\n  TagManager.initialize(tagManagerArgs)\n}\n\nexport default initializeGoogleTagManager","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport initializeGoogleTagManager from './google-tag-manager/google-tag-manager'\n\ninitializeGoogleTagManager()\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}